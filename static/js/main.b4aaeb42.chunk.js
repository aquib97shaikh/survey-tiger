(this["webpackJsonpsurvey-tiger-frontend"]=this["webpackJsonpsurvey-tiger-frontend"]||[]).push([[0],{65:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n(0),i=n.n(c),a=n(23),r=n.n(a),u=(n(65),n(66),n(30)),o=Object(u.b)({name:"Survey",initialState:{surveys:[{surveyId:1,questions:[],isPublished:!1}],nextSurveyId:1},reducers:{addQuestion:function(e,t){var n=t.payload,s=n.surveyId,c=n.type,i=n.question,a=n.options,r=e.surveys.find((function(e){return e.surveyId===Number(s)}));console.log(r);var u={type:c,question:i,options:a,questionId:r.questions.length+1};r.questions.push(u)},markPublished:function(e,t){var n=t.payload.surveyId;e.surveys.find((function(e){return e.surveyId===Number(n)})).isPublished=!0,e.nextSurveyId=e.surveys.length,e.surveys.push({surveyId:e.nextSurveyId,questions:[],isPublished:!1})}}}),d=Object(u.a)({reducer:o.reducer}),l=n(12),j=(n(72),n(55)),b=n.p+"static/media/logo.5b12e92f.png",h=n(59),O=n(17),p=n(16),v=n(9),x=n(98),m=n(99),f=n(97),y=n(96),q=(n(73),n(93)),g=n(94),I=n(54),N=n(95);var S=function(e){var t=Object(c.useState)(e.question?e.question.options:[""]),n=Object(p.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(e.question?e.question.question:""),u=Object(p.a)(r,2),o=u[0],d=u[1],l=function(e){var t=Number(e.target.name),n=Object(O.a)(i);n[t]=e.target.value,a(n)};return Object(s.jsxs)("div",{className:"multi-select",children:[Object(s.jsxs)(q.a,{children:[Object(s.jsx)(g.a,{addonType:"prepend",children:Object(s.jsx)(I.a,{children:"?"})}),Object(s.jsx)(N.a,{value:o,onChange:function(e){return d(e.target.value)}})]}),Object(s.jsxs)("div",{className:"options",children:[i.map((function(e,t){return Object(s.jsx)("div",{className:"option-container",children:Object(s.jsxs)(q.a,{children:[Object(s.jsx)(N.a,{name:t,value:e,onChange:l,placeholder:"type your answer here"}),Object(s.jsx)(g.a,{onClick:function(){!function(e){if(i.length<4){var t=Object(O.a)(i);t.splice(e+1,0,""),a(t)}}(t)},addonType:"append",disabled:4===i.length,children:Object(s.jsx)(I.a,{children:"+"})}),Object(s.jsx)(g.a,{onClick:function(){!function(e){if(i.length>1){var t=Object(O.a)(i);t.splice(e,1),a(t)}}(t)},addonType:"append",children:Object(s.jsx)(I.a,{children:"-"})})]})},t)})),i.length>=4?void 0!==e.question?Object(s.jsx)("div",{className:"qts-btn-container",children:Object(s.jsx)(j.a,{className:"add-qts",onClick:function(t){e.updateQuestion({question:o,options:i,type:"Multi",questionId:e.questionId})},children:"Update Question"})}):Object(s.jsxs)("div",{className:"qts-btn-container",children:[Object(s.jsx)(j.a,{className:"add-qts",onClick:function(t){""!==o.trim()&&0===i.filter((function(e){return 0===e.trim().length})).length&&e.addQuestion({question:o,options:i,type:"Multi",questionId:e.questionId})},children:"Add Question"}),Object(s.jsx)(j.a,{className:"add-qts",onClick:function(t){""!==o.trim()&&0===i.filter((function(e){return 0===e.trim().length})).length&&(e.addQuestion({question:o,options:i,type:"Multi",questionId:e.questionId}),e.publish())},children:"Publish"})]}):null]})]})};var k=function(e){var t=Object(c.useState)(e.question?e.question.options:["",""]),n=Object(p.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(e.question?e.question.question:""),u=Object(p.a)(r,2),o=u[0],d=u[1],l=function(e){var t=Number(e.target.name),n=Object(O.a)(i);n[t]=e.target.value,a(n)};return Object(s.jsxs)("div",{className:"single-select",children:[Object(s.jsxs)(q.a,{children:[Object(s.jsx)(g.a,{addonType:"prepend",children:Object(s.jsx)(I.a,{children:"?"})}),Object(s.jsx)(N.a,{value:o,onChange:function(e){return d(e.target.value)}})]}),Object(s.jsxs)("div",{className:"options",children:[i.map((function(e,t){return Object(s.jsx)("div",{className:"option-container",children:Object(s.jsxs)(q.a,{children:[Object(s.jsx)(N.a,{name:t,value:e,onChange:l,placeholder:"type your answer here"}),Object(s.jsx)(g.a,{addonType:"append",disabled:2===i.length,children:Object(s.jsx)(I.a,{children:"+"})}),Object(s.jsx)(g.a,{onClick:function(){!function(e){var t=Object(O.a)(i);t[e]="",a(t)}(t)},addonType:"append",children:Object(s.jsx)(I.a,{children:"-"})})]})},t)})),2===i.length?void 0!==e.question?Object(s.jsx)("div",{className:"qts-btn-container",children:Object(s.jsx)(j.a,{className:"add-qts",onClick:function(t){e.updateQuestion({question:o,options:i,type:"Single",questionId:e.questionId})},children:"Update Question"})}):Object(s.jsxs)("div",{className:"qts-btn-container",children:[Object(s.jsx)(j.a,{className:"add-qts",onClick:function(t){""!==o.trim()&&0===i.filter((function(e){return 0===e.trim().length})).length&&e.addQuestion({question:o,options:i,type:"Single",questionId:e.questionId})},children:"Add Question"}),Object(s.jsx)(j.a,{className:"add-qts",onClick:function(t){""!==o.trim()&&0===i.filter((function(e){return 0===e.trim().length})).length&&(e.addQuestion({question:o,options:i,type:"Single",questionId:e.questionId}),e.publish())},children:"Publish"})]}):null]})]})};var Q=function(e){var t=Object(l.b)(),n=Object(v.h)().surveyId,i=Object(v.g)(),a=Object(c.useState)(!1),r=Object(p.a)(a,2),u=r[0],d=r[1],j=Object(c.useState)("Select Question Type"),b=Object(p.a)(j,2),q=b[0],g=b[1],I=Object(c.useState)(["Multi-Select Question","Single-Select Question"]),N=Object(p.a)(I,2),Q=N[0],C=(N[1],Object(c.useState)([])),T=Object(p.a)(C,2),P=T[0],M=T[1],w=function(e){console.log({qts:e}),M([].concat(Object(O.a)(P),[e])),g("Select Question Type"),t(o.actions.addQuestion(Object(h.a)({surveyId:n},e)))},z=function(){t(o.actions.markPublished({surveyId:n})),i.push("/confirm/".concat(n))};return Object(s.jsxs)("div",{className:"create-survey",children:[Object(s.jsxs)(x.a,{isOpen:u,toggle:function(){return d(!u)},children:[Object(s.jsx)(m.a,{caret:!0,size:"lg",children:q}),Object(s.jsx)(f.a,{children:Q.map((function(e){return Object(s.jsx)(y.a,{className:"cs-dropdownitem btn-lg",onClick:function(){g(e)},children:e},e)}))})]}),q===Q[0]?Object(s.jsx)(S,{questionId:P.length,addQuestion:w,publish:z}):null,q===Q[1]?Object(s.jsx)(k,{questionId:P.length,addQuestion:w,publish:z}):null]})},C=n(20);var T=function(){var e=Object(l.c)((function(e){return e.surveys.filter((function(e){return e.questions.length>0}))}));return Object(s.jsxs)("div",{className:"take-survey",children:["TakeSurvey",e.map((function(e){return Object(s.jsxs)("div",{className:"ts-iem",children:["Survey ",e.surveyId]},e.surveyId)}))]})};var P=function(e){Object(l.b)();var t=Object(v.h)().surveyId,n=Object(l.c)((function(e){return e.surveys.filter((function(e){return e.surveyId===Number(t)}))}))[0];return console.log(n),Object(s.jsxs)("div",{className:"confirm-survey",children:[n&&n.questions.map((function(e){return Object(s.jsxs)("div",{className:"qts",children:[Object(s.jsx)("h3",{children:e.question}),"Multi"===e.type?Object(s.jsx)("div",{className:"options",children:e.options.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"checkbox"})," ",Object(s.jsx)("label",{children:e})]},e+t)}))}):e.options.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio"})," ",Object(s.jsx)("label",{children:e})]},e+t)}))]},e.questionId)})),Object(s.jsx)("div",{className:"qts-btn-container",children:Object(s.jsx)(j.a,{className:"confirm-qts",children:"Update Question"})})]})};var M=function(){Object(l.b)();var e=Object(l.c)((function(e){return e.nextSurveyId}));return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(C.a,{children:Object(s.jsxs)("div",{className:"survey-option-container",children:[Object(s.jsx)(C.b,{to:"/",children:Object(s.jsx)("img",{src:b,className:"logo",alt:"logo"})}),Object(s.jsxs)(v.d,{children:[Object(s.jsx)(v.b,{path:"/create/:surveyId",children:Object(s.jsx)(Q,{})}),Object(s.jsx)(v.b,{path:"/create",children:Object(s.jsx)(v.a,{to:"/create/".concat(e)})}),Object(s.jsx)(v.b,{path:"/take",children:Object(s.jsx)(T,{})}),Object(s.jsx)(v.b,{path:"/confirm/:surveyId",children:Object(s.jsx)(P,{})}),Object(s.jsxs)(v.b,{exact:!0,path:"/",children:[Object(s.jsx)(C.b,{to:"/create",children:Object(s.jsx)(j.a,{size:"lg",className:"survey-btn",children:"Create Survey"})}),Object(s.jsx)(C.b,{to:"/take",children:Object(s.jsx)(j.a,{size:"lg",className:"survey-btn",children:"Take Survey"})})]})]})]})})})};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(l.a,{store:d,children:Object(s.jsx)(M,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.b4aaeb42.chunk.js.map